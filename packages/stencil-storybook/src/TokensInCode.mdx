import { Meta } from "@storybook/blocks";

import TerminalTokens from "./assets/images/terminal-style-dictionary.jpg";

<Meta title="Introduction/Design Tokens/Tokens Code" />

<ap-heading size="h1" mb-64>Design Tokens</ap-heading>

<ap-heading size="h2" mt-64 mb-16>Dans le code</ap-heading>
<ap-paragraph mb-16>Environ 95% des variables CSS présentes dans la bibliothèque de composants proviennent de Figma sous forme de design tokens. Il est donc essentiel d'effectuer les modifications de design sur les composants dans Figma avant d'importer les tokens modifiés dans le code. Toute modification directe dans le code sera écrasée lors du prochain import de tokens.</ap-paragraph>

<ap-heading size="h3" mt-64 mb-16>Style Dictionary</ap-heading>
<ap-paragraph><ap-link><a href="https://amzn.github.io/style-dictionary/#/README" target="_blank" slot="link">Style Dictionary</a></ap-link> est un module NPM qui facilite la conversion de tokens au format JSON en variables CSS.</ap-paragraph>

<ap-heading size="h3" mt-64 mb-16>Structure du dossier Style Dictionary</ap-heading>
```
starter-web-components/
├─ packages/
   ├─ stencil-storybook/
      ├─ design-tokens/
         ├─ tokens/
         │  ├─ components/
         │  ├─ foundation/
         ├─ config.json
```

<ap-paragraph mb-16>La structure du dossier `tokens` reflète celle des collections de tokens dans Figma. À l'intérieur de ces dossiers, on trouve divers fichiers JSON, chacun contenant les tokens extraits de Figma.</ap-paragraph>
<ap-paragraph>Dans le cas de la création d'un nouveau composant il suffira de créer un nouveau fichier .json et y coller les tokens en provenance de Figma.</ap-paragraph>

<ap-heading size="h3" mt-64 mb-16>config.json</ap-heading>
<ap-paragraph mb-16>Le fichier `config.json` qui se trouve à la racine du dossier `design-tokens` contient toute la configuration qui permet la conversion des tokens JSON en variables CSS.</ap-paragraph>
<ap-paragraph mb-16>Le seul moment où la modification de ce fichier s'avère nécessaire est pour l'ajout d'un nouveau composant, lorsqu'un nouveau fichier .json a été créé.</ap-paragraph>

<ap-heading size="h3" mt-64 mb-16>Convertir les tokens en variables CSS</ap-heading>
<ap-paragraph>✅ Les tokens ont été créés dans Figma.</ap-paragraph>
<ap-paragraph>✅ Le plugin Export Filtered Variables a été installé dans Figma.</ap-paragraph>
<ap-paragraph>✅ Le plugin génère les tokens sous forme de JSON.</ap-paragraph>
<ap-paragraph>✅ Les tokens JSON sont importés dans fichiers .json du répertoire `design-tokens` et listés dans le fichier config.json.</ap-paragraph>
<ap-paragraph>✅ Les tokens JSON sont importés dans fichiers .json du répertoire `design-tokens` et listés dans le fichier config.json.</ap-paragraph>
<ap-paragraph mb-32>⌛ Conversion des tokens JSON en variables CSS.</ap-paragraph>

<ap-paragraph>Ouvrir un terminal, se mettre à la racine du dossier `design-tokens` et taper la commande suivante :</ap-paragraph>

```
style-dictionary build
```

<img src={TerminalTokens} alt="Capture d'écran d'un terminal de commande qui montre la bonne exécution de la commande style-dictionary build" />

<ap-paragraph>Un fichier .scss contenant toutes les variables CSS a été généré, il ne reste plus qu'à utiliser ces variables dans les différents composants. </ap-paragraph>
